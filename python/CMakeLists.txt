find_package(PythonLibs)

if (PYTHONLIBS_FOUND)
	find_package(Boost COMPONENTS python REQUIRED)
	message("Python libs found, creating Python bindings")
	include_directories(${PYTHON_INCLUDE_DIRS})
	if (SHARED_LIBS)
		add_library(pynabo SHARED nabo.cpp)
		target_link_libraries(pynabo ${LIB_NAME} ${Boost_LIBRARIES} ${PYTHON_LIBRARIES})
	else (SHARED_LIBS)
		set(PYTHON_SRC "nabo.cpp")
		foreach(file ${NABO_SRC})
			set(PYTHON_SRC ${PYTHON_SRC} "../${file}")
		endforeach(file)
		add_library(pynabo SHARED ${PYTHON_SRC})
		target_link_libraries(pynabo ${Boost_LIBRARIES} ${PYTHON_LIBRARIES})
	endif (SHARED_LIBS)
	#file(RENAME ${CMAKE_CURRENT_BINARY_DIR}/libpynabo.so ${CMAKE_CURRENT_BINARY_DIR}/nabo.so)
else (PYTHONLIBS_FOUND)
	message("Python libs not found, skipping Python bindings")
endif (PYTHONLIBS_FOUND)
