<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>libnabo1: nabo_private.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libnabo1&#160;<span id="projectnumber">1.0.0</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>nabo_private.h</h1>  </div>
</div>
<div class="contents">
<a href="nabo__private_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"></span>
<a name="l00003"></a>00003 <span class="comment">Copyright (c) 2010--2011, Stephane Magnenat, ASL, ETHZ, Switzerland</span>
<a name="l00004"></a>00004 <span class="comment">You can contact the author at &lt;stephane at magnenat dot net&gt;</span>
<a name="l00005"></a>00005 <span class="comment"></span>
<a name="l00006"></a>00006 <span class="comment">All rights reserved.</span>
<a name="l00007"></a>00007 <span class="comment"></span>
<a name="l00008"></a>00008 <span class="comment">Redistribution and use in source and binary forms, with or without</span>
<a name="l00009"></a>00009 <span class="comment">modification, are permitted provided that the following conditions are met:</span>
<a name="l00010"></a>00010 <span class="comment">    * Redistributions of source code must retain the above copyright</span>
<a name="l00011"></a>00011 <span class="comment">      notice, this list of conditions and the following disclaimer.</span>
<a name="l00012"></a>00012 <span class="comment">    * Redistributions in binary form must reproduce the above copyright</span>
<a name="l00013"></a>00013 <span class="comment">      notice, this list of conditions and the following disclaimer in the</span>
<a name="l00014"></a>00014 <span class="comment">      documentation and/or other materials provided with the distribution.</span>
<a name="l00015"></a>00015 <span class="comment">    * Neither the name of the &lt;organization&gt; nor the</span>
<a name="l00016"></a>00016 <span class="comment">      names of its contributors may be used to endorse or promote products</span>
<a name="l00017"></a>00017 <span class="comment">      derived from this software without specific prior written permission.</span>
<a name="l00018"></a>00018 <span class="comment"></span>
<a name="l00019"></a>00019 <span class="comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND</span>
<a name="l00020"></a>00020 <span class="comment">ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED</span>
<a name="l00021"></a>00021 <span class="comment">WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span>
<a name="l00022"></a>00022 <span class="comment">DISCLAIMED. IN NO EVENT SHALL ETH-ASL BE LIABLE FOR ANY</span>
<a name="l00023"></a>00023 <span class="comment">DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span>
<a name="l00024"></a>00024 <span class="comment">(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span>
<a name="l00025"></a>00025 <span class="comment">LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND</span>
<a name="l00026"></a>00026 <span class="comment">ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<a name="l00027"></a>00027 <span class="comment">(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS</span>
<a name="l00028"></a>00028 <span class="comment">SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00029"></a>00029 <span class="comment"></span>
<a name="l00030"></a>00030 <span class="comment">*/</span>
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="preprocessor">#ifndef __NABO_PRIVATE_H</span>
<a name="l00033"></a>00033 <span class="preprocessor"></span><span class="preprocessor">#define __NABO_PRIVATE_H</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &quot;<a class="code" href="nabo_8h.html" title="public interface">nabo.h</a>&quot;</span>
<a name="l00036"></a>00036 
<a name="l00037"></a>00037 <span class="preprocessor">#ifdef BOOST_STDINT</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span><span class="preprocessor">        #include &lt;boost/cstdint.hpp&gt;</span>
<a name="l00039"></a>00039         <span class="keyword">using</span> boost::uint32_t;
<a name="l00040"></a>00040 <span class="preprocessor">#else // BOOST_STDINT</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span><span class="preprocessor">        #include &lt;stdint.h&gt;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#endif // BOOST_STDINT</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span>
<a name="l00044"></a>00044 <span class="comment">// OpenCL</span>
<a name="l00045"></a>00045 <span class="preprocessor">#ifdef HAVE_OPENCL</span>
<a name="l00046"></a>00046 <span class="preprocessor"></span><span class="preprocessor">        #define __CL_ENABLE_EXCEPTIONS</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span><span class="preprocessor">        #include &quot;CL/cl.hpp&quot;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#endif // HAVE_OPENCL</span>
<a name="l00049"></a>00049 <span class="preprocessor"></span>
<a name="l00050"></a>00050 <span class="comment">// Unused macro, add support for your favorite compiler</span>
<a name="l00051"></a>00051 <span class="preprocessor">#if defined(__GNUC__)</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span><span class="preprocessor">        #define _UNUSED __attribute__ ((unused))</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span><span class="preprocessor">        #define _UNUSED</span>
<a name="l00055"></a>00055 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span>
<a name="l00062"></a>00062 <span class="keyword">namespace </span>Nabo
<a name="l00063"></a>00063 {
<a name="l00065"></a>00065 
<a name="l00066"></a>00066         
<a name="l00068"></a>00068         <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> A, <span class="keyword">typename</span> B&gt;
<a name="l00069"></a><a class="code" href="group__private.html#ga462c12a6bf4c8ac5c4c977b7692bf587">00069</a>         <span class="keyword">inline</span> T <a class="code" href="group__private.html#ga462c12a6bf4c8ac5c4c977b7692bf587" title="Euclidean distance.">dist2</a>(<span class="keyword">const</span> A&amp; v0, <span class="keyword">const</span> B&amp; v1)
<a name="l00070"></a>00070         {
<a name="l00071"></a>00071                 <span class="keywordflow">return</span> (v0 - v1).squaredNorm();
<a name="l00072"></a>00072         }
<a name="l00073"></a>00073 
<a name="l00075"></a>00075         <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l00076"></a><a class="code" href="structNabo_1_1BruteForceSearch.html">00076</a>         <span class="keyword">struct </span><a class="code" href="structNabo_1_1BruteForceSearch.html" title="Brute-force nearest neighbour.">BruteForceSearch</a>: <span class="keyword">public</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch</a>&lt;T&gt;
<a name="l00077"></a>00077         {
<a name="l00078"></a><a class="code" href="structNabo_1_1BruteForceSearch.html#a1ea835a0e9ea740cca1feb352b7dde4e">00078</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a95acc3bd4d771f793ff6726a9e0feddf" title="an Eigen vector of type T, to hold the coordinates of a point">NearestNeighbourSearch&lt;T&gt;::Vector</a> <a class="code" href="structNabo_1_1BruteForceSearch.html#a1ea835a0e9ea740cca1feb352b7dde4e" title="an Eigen vector of type T, to hold the coordinates of a point">Vector</a>;
<a name="l00079"></a><a class="code" href="structNabo_1_1BruteForceSearch.html#a26efd260dbb13bf51715a03954e323af">00079</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a2a315d72719cad9b36e27b415ac3cb1c" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">NearestNeighbourSearch&lt;T&gt;::Matrix</a> <a class="code" href="structNabo_1_1BruteForceSearch.html#a26efd260dbb13bf51715a03954e323af" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">Matrix</a>;
<a name="l00080"></a><a class="code" href="structNabo_1_1BruteForceSearch.html#a686a99a2271b9482af73c30d8ef8bf0f">00080</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a76e282702cb0c35671545ab58eb45b42" title="an index to a Vector or a Matrix, for refering to data points">NearestNeighbourSearch&lt;T&gt;::Index</a> <a class="code" href="structNabo_1_1BruteForceSearch.html#a686a99a2271b9482af73c30d8ef8bf0f" title="an index to a Vector or a Matrix, for refering to data points">Index</a>;
<a name="l00081"></a><a class="code" href="structNabo_1_1BruteForceSearch.html#afd49f9f7c02f4d2a1356d12e69324796">00081</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#aad49d605d1e9547fe52bd0ee90d66b93" title="a vector of indices to data points">NearestNeighbourSearch&lt;T&gt;::IndexVector</a> <a class="code" href="structNabo_1_1BruteForceSearch.html#afd49f9f7c02f4d2a1356d12e69324796" title="a vector of indices to data points">IndexVector</a>;
<a name="l00082"></a><a class="code" href="structNabo_1_1BruteForceSearch.html#ac6fdd1e0f8bb71a48557853e10b69fa5">00082</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#aa69a86e76f25b743d1f2ff74d033bb3c" title="a matrix of indices to data points">NearestNeighbourSearch&lt;T&gt;::IndexMatrix</a> <a class="code" href="structNabo_1_1BruteForceSearch.html#ac6fdd1e0f8bb71a48557853e10b69fa5" title="a matrix of indices to data points">IndexMatrix</a>;
<a name="l00083"></a>00083                 
<a name="l00084"></a>00084                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch&lt;T&gt;::dim</a>;
<a name="l00085"></a>00085                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch&lt;T&gt;::creationOptionFlags</a>;
<a name="l00086"></a>00086                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch&lt;T&gt;::checkSizesKnn</a>;
<a name="l00087"></a>00087                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch&lt;T&gt;::minBound</a>;
<a name="l00088"></a>00088                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch&lt;T&gt;::maxBound</a>;
<a name="l00089"></a>00089 
<a name="l00091"></a>00091                 <a class="code" href="structNabo_1_1BruteForceSearch.html#af16ca4692647b58edaa62874e72cef1b" title="constructor, calls NearestNeighbourSearch&amp;lt;T&amp;gt;(cloud)">BruteForceSearch</a>(<span class="keyword">const</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a2a315d72719cad9b36e27b415ac3cb1c" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">Matrix</a>&amp; <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a210a07cc2cff786f1e5408c40dfabbe0" title="the reference to the data-point cloud, which must remain valid during the lifetime of the NearestNeig...">cloud</a>, <span class="keyword">const</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a76e282702cb0c35671545ab58eb45b42" title="an index to a Vector or a Matrix, for refering to data points">Index</a> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a356a139578fc7b696b1240839182f72a" title="the dimensionality of the data-point cloud">dim</a>, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#ae24d55eb0a650199e359b1b0966e7a68" title="creation options">creationOptionFlags</a>);
<a name="l00092"></a>00092                 <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structNabo_1_1BruteForceSearch.html#adfc7c1b7a8ccb19f6412a2257e2ce703" title="Find the k nearest neighbours for each point of query.">knn</a>(<span class="keyword">const</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a2a315d72719cad9b36e27b415ac3cb1c" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">Matrix</a>&amp; query, <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#aa69a86e76f25b743d1f2ff74d033bb3c" title="a matrix of indices to data points">IndexMatrix</a>&amp; indices, <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a2a315d72719cad9b36e27b415ac3cb1c" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">Matrix</a>&amp; dists2, <span class="keyword">const</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a76e282702cb0c35671545ab58eb45b42" title="an index to a Vector or a Matrix, for refering to data points">Index</a> k, <span class="keyword">const</span> T epsilon, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> optionFlags, <span class="keyword">const</span> T maxRadius) <span class="keyword">const</span>;
<a name="l00093"></a>00093         };
<a name="l00094"></a>00094         
<a name="l00096"></a>00096         <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> Heap&gt;
<a name="l00097"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html">00097</a>         <span class="keyword">struct </span><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html" title="KDTree, unbalanced, points in leaves, stack, implicit bounds, ANN_KD_SL_MIDPT, optimised implementati...">KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt</a>: <span class="keyword">public</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch</a>&lt;T&gt;
<a name="l00098"></a>00098         {
<a name="l00099"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a0753c530c0b1469b2fcaea5889477c18">00099</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a95acc3bd4d771f793ff6726a9e0feddf" title="an Eigen vector of type T, to hold the coordinates of a point">NearestNeighbourSearch&lt;T&gt;::Vector</a> <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a0753c530c0b1469b2fcaea5889477c18" title="an Eigen vector of type T, to hold the coordinates of a point">Vector</a>;
<a name="l00100"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a6d3f1184b7a95148936d138a89cead94">00100</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a2a315d72719cad9b36e27b415ac3cb1c" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">NearestNeighbourSearch&lt;T&gt;::Matrix</a> <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a6d3f1184b7a95148936d138a89cead94" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">Matrix</a>;
<a name="l00101"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a0d4118ee0687ba869e8cb426e633b7f8">00101</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a76e282702cb0c35671545ab58eb45b42" title="an index to a Vector or a Matrix, for refering to data points">NearestNeighbourSearch&lt;T&gt;::Index</a> <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a0d4118ee0687ba869e8cb426e633b7f8" title="an index to a Vector or a Matrix, for refering to data points">Index</a>;
<a name="l00102"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#ac4e67b3f25f79b7b52d7a6ba9ebd5e61">00102</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#aad49d605d1e9547fe52bd0ee90d66b93" title="a vector of indices to data points">NearestNeighbourSearch&lt;T&gt;::IndexVector</a> <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#ac4e67b3f25f79b7b52d7a6ba9ebd5e61" title="a vector of indices to data points">IndexVector</a>;
<a name="l00103"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#ad99f4e0ec7813575dc3c9ccaea967578">00103</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#aa69a86e76f25b743d1f2ff74d033bb3c" title="a matrix of indices to data points">NearestNeighbourSearch&lt;T&gt;::IndexMatrix</a> <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#ad99f4e0ec7813575dc3c9ccaea967578" title="a matrix of indices to data points">IndexMatrix</a>;
<a name="l00104"></a>00104                 
<a name="l00105"></a>00105                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch&lt;T&gt;::dim</a>;
<a name="l00106"></a>00106                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch&lt;T&gt;::cloud</a>;
<a name="l00107"></a>00107                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch&lt;T&gt;::creationOptionFlags</a>;
<a name="l00108"></a>00108                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch&lt;T&gt;::minBound</a>;
<a name="l00109"></a>00109                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch&lt;T&gt;::maxBound</a>;
<a name="l00110"></a>00110                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch&lt;T&gt;::checkSizesKnn</a>;
<a name="l00111"></a>00111                 
<a name="l00112"></a>00112         <span class="keyword">protected</span>:
<a name="l00114"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a7ecebfc169a119086553bbbcca362c19">00114</a>                 <span class="keyword">typedef</span> std::vector&lt;Index&gt; <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a7ecebfc169a119086553bbbcca362c19" title="indices of points during kd-tree construction">BuildPoints</a>;
<a name="l00116"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#aa7e167d06283f2a909630afa0167a223">00116</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> BuildPoints::iterator <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#aa7e167d06283f2a909630afa0167a223" title="iterator to indices of points during kd-tree construction">BuildPointsIt</a>;
<a name="l00118"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a1909d65b651bdfbd08f1db70fb5214e3">00118</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> BuildPoints::const_iterator <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a1909d65b651bdfbd08f1db70fb5214e3" title="const-iterator to indices of points during kd-tree construction">BuildPointsCstIt</a>;
<a name="l00119"></a>00119                 
<a name="l00121"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#ae90547fa2590bf1e4b89f46ca76e99c1">00121</a>                 <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#ae90547fa2590bf1e4b89f46ca76e99c1" title="size of bucket">bucketSize</a>;
<a name="l00122"></a>00122                 
<a name="l00124"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#ac214c266f77c5ee5409ee689251d0275">00124</a>                 <span class="keyword">const</span> uint32_t <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#ac214c266f77c5ee5409ee689251d0275" title="number of bits required to store dimension index + number of dimensions">dimBitCount</a>;
<a name="l00126"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#ae26b2e7d0af07ab7ba80836f496d1315">00126</a>                 <span class="keyword">const</span> uint32_t <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#ae26b2e7d0af07ab7ba80836f496d1315" title="mask to access dim">dimMask</a>;
<a name="l00127"></a>00127                 
<a name="l00129"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a3c45247236a91742590f6f02d3ea1567">00129</a>                 <span class="keyword">inline</span> uint32_t <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a3c45247236a91742590f6f02d3ea1567" title="create the compound index containing the dimension and the index of the child or the bucket size...">createDimChildBucketSize</a>(<span class="keyword">const</span> uint32_t <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a356a139578fc7b696b1240839182f72a" title="the dimensionality of the data-point cloud">dim</a>, <span class="keyword">const</span> uint32_t childIndex)<span class="keyword"> const</span>
<a name="l00130"></a>00130 <span class="keyword">                </span>{ <span class="keywordflow">return</span> dim | (childIndex &lt;&lt; <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#ac214c266f77c5ee5409ee689251d0275" title="number of bits required to store dimension index + number of dimensions">dimBitCount</a>); }
<a name="l00132"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a4f6a9df8a3816875801bed37058c39c3">00132</a>                 <span class="keyword">inline</span> uint32_t <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a4f6a9df8a3816875801bed37058c39c3" title="get the dimension out of the compound index">getDim</a>(<span class="keyword">const</span> uint32_t dimChildBucketSize)<span class="keyword"> const</span>
<a name="l00133"></a>00133 <span class="keyword">                </span>{ <span class="keywordflow">return</span> dimChildBucketSize &amp; <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#ae26b2e7d0af07ab7ba80836f496d1315" title="mask to access dim">dimMask</a>; }
<a name="l00135"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a333f0f6f1761eb19a6abe7aa96f7b615">00135</a>                 <span class="keyword">inline</span> uint32_t <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a333f0f6f1761eb19a6abe7aa96f7b615" title="get the child index or the bucket size out of the coumpount index">getChildBucketSize</a>(<span class="keyword">const</span> uint32_t dimChildBucketSize)<span class="keyword"> const</span>
<a name="l00136"></a>00136 <span class="keyword">                </span>{ <span class="keywordflow">return</span> dimChildBucketSize &gt;&gt; <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#ac214c266f77c5ee5409ee689251d0275" title="number of bits required to store dimension index + number of dimensions">dimBitCount</a>; }
<a name="l00137"></a>00137                 
<a name="l00138"></a>00138                 <span class="keyword">struct </span>BucketEntry;
<a name="l00139"></a>00139                 
<a name="l00141"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1Node.html">00141</a>                 <span class="keyword">struct </span><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1Node.html" title="search node">Node</a>
<a name="l00142"></a>00142                 {
<a name="l00143"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1Node.html#a4fc6252e92716578838c72a7891fd75f">00143</a>                         uint32_t <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1Node.html#a4fc6252e92716578838c72a7891fd75f" title="cut dimension for split nodes (dimBitCount lsb), index of right node or number of bucket(rest)...">dimChildBucketSize</a>; 
<a name="l00144"></a>00144                         <span class="keyword">union</span>
<a name="l00145"></a>00145                         {
<a name="l00146"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1Node.html#a59067c785cb7dc219edddb1f88c0dbe7">00146</a>                                 T <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1Node.html#a59067c785cb7dc219edddb1f88c0dbe7" title="for split node, split value">cutVal</a>; 
<a name="l00147"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1Node.html#a17c83b42d1ae27bdcca05123c2fbab0b">00147</a>                                 uint32_t <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1Node.html#a17c83b42d1ae27bdcca05123c2fbab0b" title="for leaf node, pointer to bucket">bucketIndex</a>; 
<a name="l00148"></a>00148                         };
<a name="l00149"></a>00149                         
<a name="l00151"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1Node.html#ac17900cd25f4b5b5ff438c40a2fef577">00151</a>                         <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1Node.html#ac17900cd25f4b5b5ff438c40a2fef577" title="construct a split node">Node</a>(<span class="keyword">const</span> uint32_t dimChild, <span class="keyword">const</span> T <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1Node.html#a59067c785cb7dc219edddb1f88c0dbe7" title="for split node, split value">cutVal</a>):
<a name="l00152"></a>00152                                 <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1Node.html#a4fc6252e92716578838c72a7891fd75f" title="cut dimension for split nodes (dimBitCount lsb), index of right node or number of bucket(rest)...">dimChildBucketSize</a>(dimChild), cutVal(cutVal) {}
<a name="l00154"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1Node.html#a427478292c19b353b13f7268f80d4ad3">00154</a>                         <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1Node.html#ac17900cd25f4b5b5ff438c40a2fef577" title="construct a split node">Node</a>(<span class="keyword">const</span> uint32_t <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#ae90547fa2590bf1e4b89f46ca76e99c1" title="size of bucket">bucketSize</a>, <span class="keyword">const</span> uint32_t <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1Node.html#a17c83b42d1ae27bdcca05123c2fbab0b" title="for leaf node, pointer to bucket">bucketIndex</a>):
<a name="l00155"></a>00155                                 <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1Node.html#a4fc6252e92716578838c72a7891fd75f" title="cut dimension for split nodes (dimBitCount lsb), index of right node or number of bucket(rest)...">dimChildBucketSize</a>(bucketSize), bucketIndex(bucketIndex) {}
<a name="l00156"></a>00156                 };
<a name="l00158"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#ad718e5faaee31ec22465f18d381c53f0">00158</a>                 <span class="keyword">typedef</span> std::vector&lt;Node&gt; <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#ad718e5faaee31ec22465f18d381c53f0" title="dense vector of search nodes, provides better memory performances than many small objects...">Nodes</a>;
<a name="l00159"></a>00159                 
<a name="l00161"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1BucketEntry.html">00161</a>                 <span class="keyword">struct </span><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1BucketEntry.html" title="entry in a bucket">BucketEntry</a>
<a name="l00162"></a>00162                 {
<a name="l00163"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1BucketEntry.html#ac505efa3d6e0c55815e3c98e9b55dabd">00163</a>                         <span class="keyword">const</span> T* <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1BucketEntry.html#ac505efa3d6e0c55815e3c98e9b55dabd" title="pointer to first value of point data, 0 if end of bucket">pt</a>; 
<a name="l00164"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1BucketEntry.html#a031c9205e7a741d67984315eadeee688">00164</a>                         <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a0d4118ee0687ba869e8cb426e633b7f8" title="an index to a Vector or a Matrix, for refering to data points">Index</a> <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1BucketEntry.html#a031c9205e7a741d67984315eadeee688" title="index of point">index</a>; 
<a name="l00165"></a>00165                         
<a name="l00167"></a>00167 
<a name="l00170"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1BucketEntry.html#aeca93c23d98d67e4628a2cdb0620abd7">00170</a>                         <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1BucketEntry.html#aeca93c23d98d67e4628a2cdb0620abd7" title="create a new bucket entry for a point in the data">BucketEntry</a>(<span class="keyword">const</span> T* <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1BucketEntry.html#ac505efa3d6e0c55815e3c98e9b55dabd" title="pointer to first value of point data, 0 if end of bucket">pt</a> = 0, <span class="keyword">const</span> <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a0d4118ee0687ba869e8cb426e633b7f8" title="an index to a Vector or a Matrix, for refering to data points">Index</a> <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1BucketEntry.html#a031c9205e7a741d67984315eadeee688" title="index of point">index</a> = 0): <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1BucketEntry.html#ac505efa3d6e0c55815e3c98e9b55dabd" title="pointer to first value of point data, 0 if end of bucket">pt</a>(<a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1BucketEntry.html#ac505efa3d6e0c55815e3c98e9b55dabd" title="pointer to first value of point data, 0 if end of bucket">pt</a>), <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1BucketEntry.html#a031c9205e7a741d67984315eadeee688" title="index of point">index</a>(<a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt_1_1BucketEntry.html#a031c9205e7a741d67984315eadeee688" title="index of point">index</a>) {}
<a name="l00171"></a>00171                 };
<a name="l00172"></a>00172                 
<a name="l00174"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a870ad67778c05fcd680458921650df8c">00174</a>                 <span class="keyword">typedef</span> std::vector&lt;BucketEntry&gt; <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a870ad67778c05fcd680458921650df8c" title="bucket data">Buckets</a>;
<a name="l00175"></a>00175                 
<a name="l00177"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a5e3d3e52180c32ca8682bff49955a600">00177</a>                 <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#ad718e5faaee31ec22465f18d381c53f0" title="dense vector of search nodes, provides better memory performances than many small objects...">Nodes</a> <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a5e3d3e52180c32ca8682bff49955a600" title="search nodes">nodes</a>;
<a name="l00178"></a>00178                 
<a name="l00180"></a><a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a619aa3091469b425cf1e0b21f5fdb890">00180</a>                 <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a870ad67778c05fcd680458921650df8c" title="bucket data">Buckets</a> <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a619aa3091469b425cf1e0b21f5fdb890" title="buckets">buckets</a>;
<a name="l00181"></a>00181                 
<a name="l00183"></a>00183                 std::pair&lt;T,T&gt; <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a1da598b4a42cd2f845ccb441d615db0f" title="return the bounds of points from [first..last[ on dimension dim">getBounds</a>(<span class="keyword">const</span> <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#aa7e167d06283f2a909630afa0167a223" title="iterator to indices of points during kd-tree construction">BuildPointsIt</a> first, <span class="keyword">const</span> <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#aa7e167d06283f2a909630afa0167a223" title="iterator to indices of points during kd-tree construction">BuildPointsIt</a> last, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a356a139578fc7b696b1240839182f72a" title="the dimensionality of the data-point cloud">dim</a>);
<a name="l00185"></a>00185                 <span class="keywordtype">unsigned</span> <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a91cdf53a9f2aa91e0d34ad0d5435b954" title="construct nodes for points [first..last[ inside the hyperrectangle [minValues..maxValues]">buildNodes</a>(<span class="keyword">const</span> <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#aa7e167d06283f2a909630afa0167a223" title="iterator to indices of points during kd-tree construction">BuildPointsIt</a> first, <span class="keyword">const</span> <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#aa7e167d06283f2a909630afa0167a223" title="iterator to indices of points during kd-tree construction">BuildPointsIt</a> last, <span class="keyword">const</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a95acc3bd4d771f793ff6726a9e0feddf" title="an Eigen vector of type T, to hold the coordinates of a point">Vector</a> minValues, <span class="keyword">const</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a95acc3bd4d771f793ff6726a9e0feddf" title="an Eigen vector of type T, to hold the coordinates of a point">Vector</a> maxValues);
<a name="l00186"></a>00186                 
<a name="l00188"></a>00188 
<a name="l00196"></a>00196                 <span class="keyword">template</span>&lt;<span class="keywordtype">bool</span> allowSelfMatch, <span class="keywordtype">bool</span> collectStatistics&gt;
<a name="l00197"></a>00197                 <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a3b9b732a83385333c2a907cde6a3b161" title="recursive search, strongly inspired by ANN and [Arya &amp;amp; Mount, Algorithms for fast vector quantiza...">recurseKnn</a>(<span class="keyword">const</span> T* query, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> n, T rd, Heap&amp; heap, std::vector&lt;T&gt;&amp; off, <span class="keyword">const</span> T maxError, <span class="keyword">const</span> T maxRadius2) <span class="keyword">const</span>;
<a name="l00198"></a>00198                 
<a name="l00199"></a>00199         <span class="keyword">public</span>:
<a name="l00201"></a>00201                 <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a7e5404e3e2d5cbe9b95773a119ecfba9" title="constructor, calls NearestNeighbourSearch&amp;lt;T&amp;gt;(cloud)">KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt</a>(<span class="keyword">const</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a2a315d72719cad9b36e27b415ac3cb1c" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">Matrix</a>&amp; <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a210a07cc2cff786f1e5408c40dfabbe0" title="the reference to the data-point cloud, which must remain valid during the lifetime of the NearestNeig...">cloud</a>, <span class="keyword">const</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a76e282702cb0c35671545ab58eb45b42" title="an index to a Vector or a Matrix, for refering to data points">Index</a> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a356a139578fc7b696b1240839182f72a" title="the dimensionality of the data-point cloud">dim</a>, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#ae24d55eb0a650199e359b1b0966e7a68" title="creation options">creationOptionFlags</a>, <span class="keyword">const</span> <a class="code" href="structNabo_1_1Parameters.html" title="Parameter vector.">Parameters</a>&amp; additionalParameters);
<a name="l00202"></a>00202                 <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structNabo_1_1KDTreeUnbalancedPtInLeavesImplicitBoundsStackOpt.html#a2e018552241af743bf07767a2c5e97f4" title="Find the k nearest neighbours for each point of query.">knn</a>(<span class="keyword">const</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a2a315d72719cad9b36e27b415ac3cb1c" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">Matrix</a>&amp; query, <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#aa69a86e76f25b743d1f2ff74d033bb3c" title="a matrix of indices to data points">IndexMatrix</a>&amp; indices, <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a2a315d72719cad9b36e27b415ac3cb1c" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">Matrix</a>&amp; dists2, <span class="keyword">const</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a76e282702cb0c35671545ab58eb45b42" title="an index to a Vector or a Matrix, for refering to data points">Index</a> k, <span class="keyword">const</span> T epsilon, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> optionFlags, <span class="keyword">const</span> T maxRadius) <span class="keyword">const</span>;
<a name="l00203"></a>00203         };
<a name="l00204"></a>00204         
<a name="l00205"></a>00205 <span class="preprocessor">        #ifdef HAVE_OPENCL</span>
<a name="l00206"></a>00206 <span class="preprocessor"></span>        
<a name="l00208"></a>00208         <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l00209"></a><a class="code" href="structNabo_1_1OpenCLSearch.html">00209</a>         <span class="keyword">struct </span><a class="code" href="structNabo_1_1OpenCLSearch.html" title="OpenCL support for nearest neighbour search.">OpenCLSearch</a>: <span class="keyword">public</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch</a>&lt;T&gt;
<a name="l00210"></a>00210         {
<a name="l00211"></a><a class="code" href="structNabo_1_1OpenCLSearch.html#a8776c9891ff3f2631be0185dd3993e56">00211</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a95acc3bd4d771f793ff6726a9e0feddf" title="an Eigen vector of type T, to hold the coordinates of a point">NearestNeighbourSearch&lt;T&gt;::Vector</a> <a class="code" href="structNabo_1_1OpenCLSearch.html#a8776c9891ff3f2631be0185dd3993e56" title="an Eigen vector of type T, to hold the coordinates of a point">Vector</a>;
<a name="l00212"></a><a class="code" href="structNabo_1_1OpenCLSearch.html#a450c9dda92e5328cc10f1670624da49a">00212</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a2a315d72719cad9b36e27b415ac3cb1c" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">NearestNeighbourSearch&lt;T&gt;::Matrix</a> <a class="code" href="structNabo_1_1OpenCLSearch.html#a450c9dda92e5328cc10f1670624da49a" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">Matrix</a>;
<a name="l00213"></a><a class="code" href="structNabo_1_1OpenCLSearch.html#aa03f395e86c8349495918947af92f138">00213</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a76e282702cb0c35671545ab58eb45b42" title="an index to a Vector or a Matrix, for refering to data points">NearestNeighbourSearch&lt;T&gt;::Index</a> <a class="code" href="structNabo_1_1OpenCLSearch.html#aa03f395e86c8349495918947af92f138" title="an index to a Vector or a Matrix, for refering to data points">Index</a>;
<a name="l00214"></a><a class="code" href="structNabo_1_1OpenCLSearch.html#a5b164a89385441d631c880007b050514">00214</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#aad49d605d1e9547fe52bd0ee90d66b93" title="a vector of indices to data points">NearestNeighbourSearch&lt;T&gt;::IndexVector</a> <a class="code" href="structNabo_1_1OpenCLSearch.html#a5b164a89385441d631c880007b050514" title="a vector of indices to data points">IndexVector</a>;
<a name="l00215"></a><a class="code" href="structNabo_1_1OpenCLSearch.html#a044e59c63f65b4e92990e46f9e4231e2">00215</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#aa69a86e76f25b743d1f2ff74d033bb3c" title="a matrix of indices to data points">NearestNeighbourSearch&lt;T&gt;::IndexMatrix</a> <a class="code" href="structNabo_1_1OpenCLSearch.html#a044e59c63f65b4e92990e46f9e4231e2" title="a matrix of indices to data points">IndexMatrix</a>;
<a name="l00216"></a>00216                 
<a name="l00217"></a>00217                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch&lt;T&gt;::dim</a>;
<a name="l00218"></a>00218                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch&lt;T&gt;::cloud</a>;
<a name="l00219"></a>00219                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch&lt;T&gt;::creationOptionFlags</a>;
<a name="l00220"></a>00220                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch&lt;T&gt;::checkSizesKnn</a>;
<a name="l00221"></a>00221                 
<a name="l00222"></a>00222         <span class="keyword">protected</span>:
<a name="l00223"></a><a class="code" href="structNabo_1_1OpenCLSearch.html#ae48e6ffb09727d0ee1e69b2a7ef4b1db">00223</a>                 <span class="keyword">const</span> cl_device_type <a class="code" href="structNabo_1_1OpenCLSearch.html#ae48e6ffb09727d0ee1e69b2a7ef4b1db" title="the type of device to run CL code on (CL_DEVICE_TYPE_CPU or CL_DEVICE_TYPE_GPU)">deviceType</a>; 
<a name="l00224"></a><a class="code" href="structNabo_1_1OpenCLSearch.html#a15a42e47eff4e32ee7c0e568f518c0ae">00224</a>                 cl::Context&amp; <a class="code" href="structNabo_1_1OpenCLSearch.html#a15a42e47eff4e32ee7c0e568f518c0ae" title="the CL context">context</a>; 
<a name="l00225"></a><a class="code" href="structNabo_1_1OpenCLSearch.html#ab12b0c6b03da35b10e31e20c75b1d1be">00225</a>                 <span class="keyword">mutable</span> cl::Kernel <a class="code" href="structNabo_1_1OpenCLSearch.html#ab12b0c6b03da35b10e31e20c75b1d1be" title="the kernel to perform knnSearch, mutable because it is stateful, but conceptually const...">knnKernel</a>; 
<a name="l00226"></a><a class="code" href="structNabo_1_1OpenCLSearch.html#ac9c1b7ac643ead9907063b8bf9007e66">00226</a>                 cl::CommandQueue <a class="code" href="structNabo_1_1OpenCLSearch.html#ac9c1b7ac643ead9907063b8bf9007e66" title="the command queue">queue</a>; 
<a name="l00227"></a><a class="code" href="structNabo_1_1OpenCLSearch.html#af9c6086e77aa976955c35706650b67b4">00227</a>                 cl::Buffer <a class="code" href="structNabo_1_1OpenCLSearch.html#af9c6086e77aa976955c35706650b67b4" title="the buffer for the input data">cloudCL</a>; 
<a name="l00228"></a>00228                 
<a name="l00230"></a>00230                 <a class="code" href="structNabo_1_1OpenCLSearch.html#aefa39e8cbcc83dbb88cef86ffbad3283" title="constructor, calls NearestNeighbourSearch&amp;lt;T&amp;gt;(cloud)">OpenCLSearch</a>(<span class="keyword">const</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a2a315d72719cad9b36e27b415ac3cb1c" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">Matrix</a>&amp; <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a210a07cc2cff786f1e5408c40dfabbe0" title="the reference to the data-point cloud, which must remain valid during the lifetime of the NearestNeig...">cloud</a>, <span class="keyword">const</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a76e282702cb0c35671545ab58eb45b42" title="an index to a Vector or a Matrix, for refering to data points">Index</a> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a356a139578fc7b696b1240839182f72a" title="the dimensionality of the data-point cloud">dim</a>, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#ae24d55eb0a650199e359b1b0966e7a68" title="creation options">creationOptionFlags</a>, <span class="keyword">const</span> cl_device_type <a class="code" href="structNabo_1_1OpenCLSearch.html#ae48e6ffb09727d0ee1e69b2a7ef4b1db" title="the type of device to run CL code on (CL_DEVICE_TYPE_CPU or CL_DEVICE_TYPE_GPU)">deviceType</a>);
<a name="l00232"></a>00232 
<a name="l00236"></a>00236                 <span class="keywordtype">void</span> <a class="code" href="structNabo_1_1OpenCLSearch.html#a88b9cf590c253aba4605187c0cecdfe1" title="Initialize CL support.">initOpenCL</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* clFileName, <span class="keyword">const</span> <span class="keywordtype">char</span>* kernelName, <span class="keyword">const</span> std::string&amp; additionalDefines = <span class="stringliteral">&quot;&quot;</span>);
<a name="l00237"></a>00237         
<a name="l00238"></a>00238         <span class="keyword">public</span>:
<a name="l00239"></a>00239                 <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structNabo_1_1OpenCLSearch.html#acec0909822a7b2049d4b39556c1e2fc3" title="Find the k nearest neighbours for each point of query.">knn</a>(<span class="keyword">const</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a2a315d72719cad9b36e27b415ac3cb1c" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">Matrix</a>&amp; query, <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#aa69a86e76f25b743d1f2ff74d033bb3c" title="a matrix of indices to data points">IndexMatrix</a>&amp; indices, <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a2a315d72719cad9b36e27b415ac3cb1c" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">Matrix</a>&amp; dists2, <span class="keyword">const</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a76e282702cb0c35671545ab58eb45b42" title="an index to a Vector or a Matrix, for refering to data points">Index</a> k, <span class="keyword">const</span> T epsilon, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> optionFlags, <span class="keyword">const</span> T maxRadius) <span class="keyword">const</span>;
<a name="l00240"></a>00240         };
<a name="l00241"></a>00241         
<a name="l00243"></a>00243         <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l00244"></a><a class="code" href="structNabo_1_1BruteForceSearchOpenCL.html">00244</a>         <span class="keyword">struct </span><a class="code" href="structNabo_1_1BruteForceSearchOpenCL.html" title="KDTree, balanced, points in leaves, stack, implicit bounds, balance aspect ratio.">BruteForceSearchOpenCL</a>: <span class="keyword">public</span> <a class="code" href="structNabo_1_1OpenCLSearch.html" title="OpenCL support for nearest neighbour search.">OpenCLSearch</a>&lt;T&gt;
<a name="l00245"></a>00245         {
<a name="l00246"></a><a class="code" href="structNabo_1_1BruteForceSearchOpenCL.html#af2447fe3c6f4c58aed3eebc9dfc9ca62">00246</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a95acc3bd4d771f793ff6726a9e0feddf" title="an Eigen vector of type T, to hold the coordinates of a point">NearestNeighbourSearch&lt;T&gt;::Vector</a> <a class="code" href="structNabo_1_1BruteForceSearchOpenCL.html#af2447fe3c6f4c58aed3eebc9dfc9ca62" title="an Eigen vector of type T, to hold the coordinates of a point">Vector</a>;
<a name="l00247"></a><a class="code" href="structNabo_1_1BruteForceSearchOpenCL.html#a5d46f5be2514ea939abac9577b308da1">00247</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a2a315d72719cad9b36e27b415ac3cb1c" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">NearestNeighbourSearch&lt;T&gt;::Matrix</a> <a class="code" href="structNabo_1_1BruteForceSearchOpenCL.html#a5d46f5be2514ea939abac9577b308da1" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">Matrix</a>;
<a name="l00248"></a><a class="code" href="structNabo_1_1BruteForceSearchOpenCL.html#af3b535e459a60c1cb46601e58c123ce8">00248</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a76e282702cb0c35671545ab58eb45b42" title="an index to a Vector or a Matrix, for refering to data points">NearestNeighbourSearch&lt;T&gt;::Index</a> <a class="code" href="structNabo_1_1BruteForceSearchOpenCL.html#af3b535e459a60c1cb46601e58c123ce8" title="an index to a Vector or a Matrix, for refering to data points">Index</a>;
<a name="l00249"></a>00249                 
<a name="l00250"></a>00250                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1OpenCLSearch.html" title="OpenCL support for nearest neighbour search.">OpenCLSearch&lt;T&gt;::initOpenCL</a>;
<a name="l00251"></a>00251                 
<a name="l00253"></a>00253                 <a class="code" href="structNabo_1_1BruteForceSearchOpenCL.html#ab8b66d1cc14d46fd3029e57ab60e30d7" title="constructor, calls OpenCLSearch&amp;lt;T&amp;gt;(cloud, ...)">BruteForceSearchOpenCL</a>(<span class="keyword">const</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a2a315d72719cad9b36e27b415ac3cb1c" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">Matrix</a>&amp; <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a210a07cc2cff786f1e5408c40dfabbe0" title="the reference to the data-point cloud, which must remain valid during the lifetime of the NearestNeig...">cloud</a>, <span class="keyword">const</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a76e282702cb0c35671545ab58eb45b42" title="an index to a Vector or a Matrix, for refering to data points">Index</a> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a356a139578fc7b696b1240839182f72a" title="the dimensionality of the data-point cloud">dim</a>, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#ae24d55eb0a650199e359b1b0966e7a68" title="creation options">creationOptionFlags</a>, <span class="keyword">const</span> cl_device_type <a class="code" href="structNabo_1_1OpenCLSearch.html#ae48e6ffb09727d0ee1e69b2a7ef4b1db" title="the type of device to run CL code on (CL_DEVICE_TYPE_CPU or CL_DEVICE_TYPE_GPU)">deviceType</a>);
<a name="l00254"></a>00254         };
<a name="l00255"></a>00255         
<a name="l00257"></a>00257         <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l00258"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html">00258</a>         <span class="keyword">struct </span><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html" title="KDTree, balanced, points in leaves, stack, implicit bounds, balance aspect ratio.">KDTreeBalancedPtInLeavesStackOpenCL</a>: <span class="keyword">public</span> <a class="code" href="structNabo_1_1OpenCLSearch.html" title="OpenCL support for nearest neighbour search.">OpenCLSearch</a>&lt;T&gt;
<a name="l00259"></a>00259         {
<a name="l00260"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#aecdcc930f125a8f9d951835bcf6a394d">00260</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a95acc3bd4d771f793ff6726a9e0feddf" title="an Eigen vector of type T, to hold the coordinates of a point">NearestNeighbourSearch&lt;T&gt;::Vector</a> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#aecdcc930f125a8f9d951835bcf6a394d" title="an Eigen vector of type T, to hold the coordinates of a point">Vector</a>;
<a name="l00261"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#aa653c4938135a0bec273012a93d937df">00261</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a2a315d72719cad9b36e27b415ac3cb1c" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">NearestNeighbourSearch&lt;T&gt;::Matrix</a> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#aa653c4938135a0bec273012a93d937df" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">Matrix</a>;
<a name="l00262"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#ae78ff2f95bdc061bacc70183611691c8">00262</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a76e282702cb0c35671545ab58eb45b42" title="an index to a Vector or a Matrix, for refering to data points">NearestNeighbourSearch&lt;T&gt;::Index</a> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#ae78ff2f95bdc061bacc70183611691c8" title="an index to a Vector or a Matrix, for refering to data points">Index</a>;
<a name="l00263"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#a204f828956ac32cf8eaecbe05a8e7cd1">00263</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#aad49d605d1e9547fe52bd0ee90d66b93" title="a vector of indices to data points">NearestNeighbourSearch&lt;T&gt;::IndexVector</a> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#a204f828956ac32cf8eaecbe05a8e7cd1" title="a vector of indices to data points">IndexVector</a>;
<a name="l00264"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#ae25b0480256f623185881f356369acb1">00264</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#aa69a86e76f25b743d1f2ff74d033bb3c" title="a matrix of indices to data points">NearestNeighbourSearch&lt;T&gt;::IndexMatrix</a> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#ae25b0480256f623185881f356369acb1" title="a matrix of indices to data points">IndexMatrix</a>;
<a name="l00265"></a>00265                 
<a name="l00266"></a>00266                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch&lt;T&gt;::dim</a>;
<a name="l00267"></a>00267                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch&lt;T&gt;::cloud</a>;
<a name="l00268"></a>00268                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch&lt;T&gt;::creationOptionFlags</a>;
<a name="l00269"></a>00269                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch&lt;T&gt;::minBound</a>;
<a name="l00270"></a>00270                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch&lt;T&gt;::maxBound</a>;
<a name="l00271"></a>00271                 
<a name="l00272"></a>00272                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1OpenCLSearch.html" title="OpenCL support for nearest neighbour search.">OpenCLSearch&lt;T&gt;::context</a>;
<a name="l00273"></a>00273                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1OpenCLSearch.html" title="OpenCL support for nearest neighbour search.">OpenCLSearch&lt;T&gt;::knnKernel</a>;
<a name="l00274"></a>00274                 
<a name="l00275"></a>00275                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1OpenCLSearch.html" title="OpenCL support for nearest neighbour search.">OpenCLSearch&lt;T&gt;::initOpenCL</a>;
<a name="l00276"></a>00276                 
<a name="l00277"></a>00277         <span class="keyword">protected</span>:
<a name="l00279"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1BuildPoint.html">00279</a>                 <span class="keyword">struct </span><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1BuildPoint.html" title="Point during kd-tree construction.">BuildPoint</a>
<a name="l00280"></a>00280                 {
<a name="l00281"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1BuildPoint.html#a9007aea2fca80dcb804f127e11e3d049">00281</a>                         <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#aecdcc930f125a8f9d951835bcf6a394d" title="an Eigen vector of type T, to hold the coordinates of a point">Vector</a> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1BuildPoint.html#a9007aea2fca80dcb804f127e11e3d049" title="point">pos</a>; 
<a name="l00282"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1BuildPoint.html#ac572137ee2168d2163edf93ca3995b50">00282</a>                         <span class="keywordtype">size_t</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1BuildPoint.html#ac572137ee2168d2163edf93ca3995b50" title="index of point in cloud">index</a>; 
<a name="l00283"></a>00283 
<a name="l00284"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1BuildPoint.html#aafaf17a58616e6b054b7e099420bd06f">00284</a>                         <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1BuildPoint.html#aafaf17a58616e6b054b7e099420bd06f" title="Construct a build point, at a given pos with a specific index.">BuildPoint</a>(<span class="keyword">const</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#aecdcc930f125a8f9d951835bcf6a394d" title="an Eigen vector of type T, to hold the coordinates of a point">Vector</a>&amp; <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1BuildPoint.html#a9007aea2fca80dcb804f127e11e3d049" title="point">pos</a> =  <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#aecdcc930f125a8f9d951835bcf6a394d" title="an Eigen vector of type T, to hold the coordinates of a point">Vector</a>(), <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1BuildPoint.html#ac572137ee2168d2163edf93ca3995b50" title="index of point in cloud">index</a> = 0): <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1BuildPoint.html#a9007aea2fca80dcb804f127e11e3d049" title="point">pos</a>(<a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1BuildPoint.html#a9007aea2fca80dcb804f127e11e3d049" title="point">pos</a>), <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1BuildPoint.html#ac572137ee2168d2163edf93ca3995b50" title="index of point in cloud">index</a>(<a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1BuildPoint.html#ac572137ee2168d2163edf93ca3995b50" title="index of point in cloud">index</a>) {}
<a name="l00285"></a>00285                 };
<a name="l00287"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#a0f4755acb4094512d4fa70b3aa809860">00287</a>                 <span class="keyword">typedef</span> std::vector&lt;BuildPoint&gt; <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#a0f4755acb4094512d4fa70b3aa809860" title="points during kd-tree construction">BuildPoints</a>;
<a name="l00289"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#afccfaf8728ad1d9110a3714b829438db">00289</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> BuildPoints::iterator <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#afccfaf8728ad1d9110a3714b829438db" title="iterator to points during kd-tree construction">BuildPointsIt</a>;
<a name="l00291"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#a0c3604905c35bc41a6ab5666b109b36e">00291</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> BuildPoints::const_iterator <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#a0c3604905c35bc41a6ab5666b109b36e" title="const-iterator to points during kd-tree construction">BuildPointsCstIt</a>;
<a name="l00292"></a>00292                 
<a name="l00294"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1CompareDim.html">00294</a>                 <span class="keyword">struct </span><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1CompareDim.html" title="Functor to compare point values on a given dimension.">CompareDim</a>
<a name="l00295"></a>00295                 {
<a name="l00296"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1CompareDim.html#af02117e8eb2a475ca6f24756a7debe82">00296</a>                         <span class="keywordtype">size_t</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1CompareDim.html#af02117e8eb2a475ca6f24756a7debe82" title="dimension on which to compare">dim</a>; 
<a name="l00297"></a>00297 
<a name="l00298"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1CompareDim.html#a551be19fad11601e932090d1fa44cf97">00298</a>                         <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1CompareDim.html#a551be19fad11601e932090d1fa44cf97" title="Build the functor for a specific dimension.">CompareDim</a>(<span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1CompareDim.html#af02117e8eb2a475ca6f24756a7debe82" title="dimension on which to compare">dim</a>):dim(dim){}
<a name="l00300"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1CompareDim.html#a8694abc33c8df11a643970ac6c5eb6f9">00300</a>                         <span class="keywordtype">bool</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1CompareDim.html#a8694abc33c8df11a643970ac6c5eb6f9" title="Compare the values of p0 and p1 on dim, and return whether p0[dim] &amp;lt; p1[dim].">operator() </a>(<span class="keyword">const</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1BuildPoint.html" title="Point during kd-tree construction.">BuildPoint</a>&amp; p0, <span class="keyword">const</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1BuildPoint.html" title="Point during kd-tree construction.">BuildPoint</a>&amp; p1) { <span class="keywordflow">return</span> p0.<a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1BuildPoint.html#a9007aea2fca80dcb804f127e11e3d049" title="point">pos</a>(<a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1CompareDim.html#af02117e8eb2a475ca6f24756a7debe82" title="dimension on which to compare">dim</a>) &lt; p1.<a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1BuildPoint.html#a9007aea2fca80dcb804f127e11e3d049" title="point">pos</a>(<a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1CompareDim.html#af02117e8eb2a475ca6f24756a7debe82" title="dimension on which to compare">dim</a>); }
<a name="l00301"></a>00301                 };
<a name="l00302"></a>00302                 
<a name="l00304"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1Node.html">00304</a>                 <span class="keyword">struct </span><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1Node.html" title="Tree node for CL.">Node</a>
<a name="l00305"></a>00305                 {
<a name="l00306"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1Node.html#a71b26c8f7cd5882b2e7a2e296f80d3ad">00306</a>                         <span class="keywordtype">int</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1Node.html#a71b26c8f7cd5882b2e7a2e296f80d3ad" title="dimension of the cut, or, if negative, index of the point: -1 == invalid, &amp;lt;= -2 = index of pt...">dim</a>; 
<a name="l00307"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1Node.html#ade4256de461bf0bb62afc143db10a7ea">00307</a>                         T <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1Node.html#ade4256de461bf0bb62afc143db10a7ea" title="value of the cut">cutVal</a>; 
<a name="l00308"></a>00308 
<a name="l00309"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1Node.html#ac6ce9808b8fb17fbff20a7b13caf3811">00309</a>                         <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1Node.html#ac6ce9808b8fb17fbff20a7b13caf3811" title="Build a tree node, with a given dimension and value to cut on, or, if leaf and dim &amp;lt;= -2...">Node</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1Node.html#a71b26c8f7cd5882b2e7a2e296f80d3ad" title="dimension of the cut, or, if negative, index of the point: -1 == invalid, &amp;lt;= -2 = index of pt...">dim</a> = -1, <span class="keyword">const</span> T <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1Node.html#ade4256de461bf0bb62afc143db10a7ea" title="value of the cut">cutVal</a> = 0):<a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1Node.html#a71b26c8f7cd5882b2e7a2e296f80d3ad" title="dimension of the cut, or, if negative, index of the point: -1 == invalid, &amp;lt;= -2 = index of pt...">dim</a>(<a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1Node.html#a71b26c8f7cd5882b2e7a2e296f80d3ad" title="dimension of the cut, or, if negative, index of the point: -1 == invalid, &amp;lt;= -2 = index of pt...">dim</a>), <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1Node.html#ade4256de461bf0bb62afc143db10a7ea" title="value of the cut">cutVal</a>(<a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL_1_1Node.html#ade4256de461bf0bb62afc143db10a7ea" title="value of the cut">cutVal</a>) {}
<a name="l00310"></a>00310                 };
<a name="l00312"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#a8a081a8cdb6eccf26e250395a470476d">00312</a>                 <span class="keyword">typedef</span> std::vector&lt;Node&gt; <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#a8a081a8cdb6eccf26e250395a470476d" title="dense vector of search nodes">Nodes</a>;
<a name="l00313"></a>00313                 
<a name="l00314"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#a76dd2d7789afecae22fdab5354ec865d">00314</a>                 <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#a8a081a8cdb6eccf26e250395a470476d" title="dense vector of search nodes">Nodes</a> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#a76dd2d7789afecae22fdab5354ec865d" title="search nodes">nodes</a>; 
<a name="l00315"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#a02b02ff72c82477b4be498584aac5c68">00315</a>                 cl::Buffer <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#a02b02ff72c82477b4be498584aac5c68" title="CL buffer for search nodes.">nodesCL</a>; 
<a name="l00316"></a>00316                 
<a name="l00317"></a>00317                 
<a name="l00318"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#a8653e7cfbee06495b13f6dff9f35f999">00318</a>                 <span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#a8653e7cfbee06495b13f6dff9f35f999" title="Return the left child of pos.">childLeft</a>(<span class="keywordtype">size_t</span> pos)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> 2*pos + 1; } 
<a name="l00319"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#a9ed34cccb6ad0678ef14a43a6a2cdf3e">00319</a>                 <span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#a9ed34cccb6ad0678ef14a43a6a2cdf3e" title="Return the right child of pos.">childRight</a>(<span class="keywordtype">size_t</span> pos)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> 2*pos + 2; } 
<a name="l00320"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#a7a5ea67da584dc718dd26c9beda44c81">00320</a>                 <span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#a7a5ea67da584dc718dd26c9beda44c81" title="Return the parent of pos.">parent</a>(<span class="keywordtype">size_t</span> pos)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (pos-1)/2; } 
<a name="l00321"></a>00321                 <span class="keywordtype">size_t</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#a773e72725b5fbd18964a2d31d988bc97" title="Return the max depth of a tree of a given size.">getTreeDepth</a>(<span class="keywordtype">size_t</span> size) <span class="keyword">const</span>; 
<a name="l00322"></a>00322                 <span class="keywordtype">size_t</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#a1d8f1c3e47fc98b0d152632f9c8c186d" title="Return the storage size of tree of a given size.">getTreeSize</a>(<span class="keywordtype">size_t</span> size) <span class="keyword">const</span>; 
<a name="l00323"></a>00323                 
<a name="l00325"></a>00325                 <span class="keywordtype">void</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#a1adb61ba2ca7e3d02efaa12e2cc9788b" title="Recurse to build nodes.">buildNodes</a>(<span class="keyword">const</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#afccfaf8728ad1d9110a3714b829438db" title="iterator to points during kd-tree construction">BuildPointsIt</a> first, <span class="keyword">const</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#afccfaf8728ad1d9110a3714b829438db" title="iterator to points during kd-tree construction">BuildPointsIt</a> last, <span class="keyword">const</span> <span class="keywordtype">size_t</span> pos, <span class="keyword">const</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#aecdcc930f125a8f9d951835bcf6a394d" title="an Eigen vector of type T, to hold the coordinates of a point">Vector</a> minValues, <span class="keyword">const</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#aecdcc930f125a8f9d951835bcf6a394d" title="an Eigen vector of type T, to hold the coordinates of a point">Vector</a> maxValues);
<a name="l00326"></a>00326                 
<a name="l00327"></a>00327         <span class="keyword">public</span>:
<a name="l00329"></a>00329                 <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#aff84649cd3c8e574bb2f02fabfe438d1" title="constructor, calls OpenCLSearch&amp;lt;T&amp;gt;(cloud, ...)">KDTreeBalancedPtInLeavesStackOpenCL</a>(<span class="keyword">const</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#aa653c4938135a0bec273012a93d937df" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">Matrix</a>&amp; <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a210a07cc2cff786f1e5408c40dfabbe0" title="the reference to the data-point cloud, which must remain valid during the lifetime of the NearestNeig...">cloud</a>, <span class="keyword">const</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInLeavesStackOpenCL.html#ae78ff2f95bdc061bacc70183611691c8" title="an index to a Vector or a Matrix, for refering to data points">Index</a> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a356a139578fc7b696b1240839182f72a" title="the dimensionality of the data-point cloud">dim</a>, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#ae24d55eb0a650199e359b1b0966e7a68" title="creation options">creationOptionFlags</a>, <span class="keyword">const</span> cl_device_type <a class="code" href="structNabo_1_1OpenCLSearch.html#ae48e6ffb09727d0ee1e69b2a7ef4b1db" title="the type of device to run CL code on (CL_DEVICE_TYPE_CPU or CL_DEVICE_TYPE_GPU)">deviceType</a>);
<a name="l00330"></a>00330         };
<a name="l00331"></a>00331         
<a name="l00333"></a>00333         <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l00334"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html">00334</a>         <span class="keyword">struct </span><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html" title="KDTree, balanced, points in nodes, stack, implicit bounds, balance aspect ratio.">KDTreeBalancedPtInNodesStackOpenCL</a>: <span class="keyword">public</span> <a class="code" href="structNabo_1_1OpenCLSearch.html" title="OpenCL support for nearest neighbour search.">OpenCLSearch</a>&lt;T&gt;
<a name="l00335"></a>00335         {
<a name="l00336"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a5873d19f88424dd50a09f87e909af321">00336</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a95acc3bd4d771f793ff6726a9e0feddf" title="an Eigen vector of type T, to hold the coordinates of a point">NearestNeighbourSearch&lt;T&gt;::Vector</a> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a5873d19f88424dd50a09f87e909af321" title="an Eigen vector of type T, to hold the coordinates of a point">Vector</a>;
<a name="l00337"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a4012e654f2e415e3194a4f9eb3d0a85d">00337</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a2a315d72719cad9b36e27b415ac3cb1c" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">NearestNeighbourSearch&lt;T&gt;::Matrix</a> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a4012e654f2e415e3194a4f9eb3d0a85d" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">Matrix</a>;
<a name="l00338"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a52187d82d3ea8b8d19c15e961aa5749f">00338</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a76e282702cb0c35671545ab58eb45b42" title="an index to a Vector or a Matrix, for refering to data points">NearestNeighbourSearch&lt;T&gt;::Index</a> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a52187d82d3ea8b8d19c15e961aa5749f" title="an index to a Vector or a Matrix, for refering to data points">Index</a>;
<a name="l00339"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a5572e1941beb1decbda41d2e8a155c67">00339</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#aad49d605d1e9547fe52bd0ee90d66b93" title="a vector of indices to data points">NearestNeighbourSearch&lt;T&gt;::IndexVector</a> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a5572e1941beb1decbda41d2e8a155c67" title="a vector of indices to data points">IndexVector</a>;
<a name="l00340"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#ac2ae4ed45adc774fdba9a59e921b228a">00340</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#aa69a86e76f25b743d1f2ff74d033bb3c" title="a matrix of indices to data points">NearestNeighbourSearch&lt;T&gt;::IndexMatrix</a> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#ac2ae4ed45adc774fdba9a59e921b228a" title="a matrix of indices to data points">IndexMatrix</a>;
<a name="l00341"></a>00341                 
<a name="l00342"></a>00342                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch&lt;T&gt;::dim</a>;
<a name="l00343"></a>00343                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch&lt;T&gt;::cloud</a>;
<a name="l00344"></a>00344                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch&lt;T&gt;::creationOptionFlags</a>;
<a name="l00345"></a>00345                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch&lt;T&gt;::minBound</a>;
<a name="l00346"></a>00346                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html" title="Nearest neighbour search interface, templatized on scalar type.">NearestNeighbourSearch&lt;T&gt;::maxBound</a>;
<a name="l00347"></a>00347                 
<a name="l00348"></a>00348                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1OpenCLSearch.html" title="OpenCL support for nearest neighbour search.">OpenCLSearch&lt;T&gt;::context</a>;
<a name="l00349"></a>00349                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1OpenCLSearch.html" title="OpenCL support for nearest neighbour search.">OpenCLSearch&lt;T&gt;::knnKernel</a>;
<a name="l00350"></a>00350                 
<a name="l00351"></a>00351                 <span class="keyword">using</span> <a class="code" href="structNabo_1_1OpenCLSearch.html" title="OpenCL support for nearest neighbour search.">OpenCLSearch&lt;T&gt;::initOpenCL</a>;
<a name="l00352"></a>00352                 
<a name="l00353"></a>00353         <span class="keyword">protected</span>:
<a name="l00355"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a491b194decab375b2d6c5ea5f9286014">00355</a>                 <span class="keyword">typedef</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a76e282702cb0c35671545ab58eb45b42" title="an index to a Vector or a Matrix, for refering to data points">Index</a> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a491b194decab375b2d6c5ea5f9286014" title="a point during kd-tree construction is just its index">BuildPoint</a>;
<a name="l00357"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a3caec1d590b1a42ae06ab40b2a085132">00357</a>                 <span class="keyword">typedef</span> std::vector&lt;BuildPoint&gt; <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a3caec1d590b1a42ae06ab40b2a085132" title="points during kd-tree construction">BuildPoints</a>;
<a name="l00359"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#aba95f69bae0502ec53476698a3f63b2e">00359</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> BuildPoints::iterator <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#aba95f69bae0502ec53476698a3f63b2e" title="iterator to points during kd-tree construction">BuildPointsIt</a>;
<a name="l00361"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#aef2c9bf64cb3034339d94ee0c41746be">00361</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> BuildPoints::const_iterator <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#aef2c9bf64cb3034339d94ee0c41746be" title="const-iterator to points during kd-tree construction">BuildPointsCstIt</a>;
<a name="l00362"></a>00362                 
<a name="l00364"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1CompareDim.html">00364</a>                 <span class="keyword">struct </span><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1CompareDim.html" title="Functor to compare point values on a given dimension.">CompareDim</a>
<a name="l00365"></a>00365                 {
<a name="l00366"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1CompareDim.html#a8c7a9aa613e17302a1e8d89f4da5d1b2">00366</a>                         <span class="keyword">const</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a4012e654f2e415e3194a4f9eb3d0a85d" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">Matrix</a>&amp; <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1CompareDim.html#a8c7a9aa613e17302a1e8d89f4da5d1b2" title="reference to data points used to compare">cloud</a>; 
<a name="l00367"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1CompareDim.html#a464cff6b77cacb0dd7fc5cc0aa33cc0c">00367</a>                         <span class="keywordtype">size_t</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1CompareDim.html#a464cff6b77cacb0dd7fc5cc0aa33cc0c" title="dimension on which to compare">dim</a>; 
<a name="l00368"></a>00368 
<a name="l00369"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1CompareDim.html#af37faf1d8ac3cf5403892947c3b17321">00369</a>                         <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1CompareDim.html#af37faf1d8ac3cf5403892947c3b17321" title="Build the functor for a specific dimension on a specific cloud.">CompareDim</a>(<span class="keyword">const</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a4012e654f2e415e3194a4f9eb3d0a85d" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">Matrix</a>&amp; <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1CompareDim.html#a8c7a9aa613e17302a1e8d89f4da5d1b2" title="reference to data points used to compare">cloud</a>, <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1CompareDim.html#a464cff6b77cacb0dd7fc5cc0aa33cc0c" title="dimension on which to compare">dim</a>): cloud(cloud), dim(dim){}
<a name="l00371"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1CompareDim.html#a426ceb2ab11f4996bae8077cf0dc91a7">00371</a>                         <span class="keywordtype">bool</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1CompareDim.html#a426ceb2ab11f4996bae8077cf0dc91a7" title="Compare the values of p0 and p1 on dim, and return whether p0[dim] &amp;lt; p1[dim].">operator() </a>(<span class="keyword">const</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a491b194decab375b2d6c5ea5f9286014" title="a point during kd-tree construction is just its index">BuildPoint</a>&amp; p0, <span class="keyword">const</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a491b194decab375b2d6c5ea5f9286014" title="a point during kd-tree construction is just its index">BuildPoint</a>&amp; p1) { <span class="keywordflow">return</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1CompareDim.html#a8c7a9aa613e17302a1e8d89f4da5d1b2" title="reference to data points used to compare">cloud</a>.coeff(<a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1CompareDim.html#a464cff6b77cacb0dd7fc5cc0aa33cc0c" title="dimension on which to compare">dim</a>, p0) &lt; <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1CompareDim.html#a8c7a9aa613e17302a1e8d89f4da5d1b2" title="reference to data points used to compare">cloud</a>.coeff(<a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1CompareDim.html#a464cff6b77cacb0dd7fc5cc0aa33cc0c" title="dimension on which to compare">dim</a>, p1); }
<a name="l00372"></a>00372                 };
<a name="l00373"></a>00373                 
<a name="l00375"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1Node.html">00375</a>                 <span class="keyword">struct </span><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1Node.html" title="Tree node for CL.">Node</a>
<a name="l00376"></a>00376                 {
<a name="l00377"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1Node.html#ae62885a954a2d9fd4bc7d2b56a80ae50">00377</a>                         <span class="keywordtype">int</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1Node.html#ae62885a954a2d9fd4bc7d2b56a80ae50" title="dimension of the cut, or, if -1 == leaf, -2 == invalid">dim</a>; 
<a name="l00378"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1Node.html#aed406f8cb9337b20b710218700b9c54c">00378</a>                         <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a52187d82d3ea8b8d19c15e961aa5749f" title="an index to a Vector or a Matrix, for refering to data points">Index</a> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1Node.html#aed406f8cb9337b20b710218700b9c54c" title="index of the point to cut">index</a>; 
<a name="l00379"></a>00379 
<a name="l00380"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1Node.html#aaec191810a7c62acfa8cadb3f130cef7">00380</a>                         <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1Node.html#aaec191810a7c62acfa8cadb3f130cef7" title="Build a tree node, with a given index and a given dimension to cut on.">Node</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1Node.html#ae62885a954a2d9fd4bc7d2b56a80ae50" title="dimension of the cut, or, if -1 == leaf, -2 == invalid">dim</a> = -2, <span class="keyword">const</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a52187d82d3ea8b8d19c15e961aa5749f" title="an index to a Vector or a Matrix, for refering to data points">Index</a> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1Node.html#aed406f8cb9337b20b710218700b9c54c" title="index of the point to cut">index</a> = 0):<a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1Node.html#ae62885a954a2d9fd4bc7d2b56a80ae50" title="dimension of the cut, or, if -1 == leaf, -2 == invalid">dim</a>(<a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1Node.html#ae62885a954a2d9fd4bc7d2b56a80ae50" title="dimension of the cut, or, if -1 == leaf, -2 == invalid">dim</a>), <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1Node.html#aed406f8cb9337b20b710218700b9c54c" title="index of the point to cut">index</a>(<a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL_1_1Node.html#aed406f8cb9337b20b710218700b9c54c" title="index of the point to cut">index</a>) {}
<a name="l00381"></a>00381                 };
<a name="l00383"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a961846b1e6cefdc3fa18b507c38a1ce1">00383</a>                 <span class="keyword">typedef</span> std::vector&lt;Node&gt; <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a961846b1e6cefdc3fa18b507c38a1ce1" title="dense vector of search nodes">Nodes</a>;
<a name="l00384"></a>00384                 
<a name="l00385"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a19f823d044c087ce30e4b81a868aa58d">00385</a>                 <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a961846b1e6cefdc3fa18b507c38a1ce1" title="dense vector of search nodes">Nodes</a> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a19f823d044c087ce30e4b81a868aa58d" title="search nodes">nodes</a>; 
<a name="l00386"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#ad7ce3d5a1a945773db07d72931570744">00386</a>                 cl::Buffer <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#ad7ce3d5a1a945773db07d72931570744" title="CL buffer for search nodes.">nodesCL</a>;  
<a name="l00387"></a>00387                 
<a name="l00388"></a>00388                 
<a name="l00389"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a786acf3db0aa5741735c3dff9d82f478">00389</a>                 <span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a786acf3db0aa5741735c3dff9d82f478" title="Return the left child of pos.">childLeft</a>(<span class="keywordtype">size_t</span> pos)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> 2*pos + 1; } 
<a name="l00390"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a32a28f98506382d1d717295a7c64c78d">00390</a>                 <span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a32a28f98506382d1d717295a7c64c78d" title="Return the right child of pos.">childRight</a>(<span class="keywordtype">size_t</span> pos)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> 2*pos + 2; } 
<a name="l00391"></a><a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#adda6dc6640433478e9d7732218c17110">00391</a>                 <span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#adda6dc6640433478e9d7732218c17110" title="Return the parent of pos.">parent</a>(<span class="keywordtype">size_t</span> pos)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (pos-1)/2; } 
<a name="l00392"></a>00392                 <span class="keywordtype">size_t</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#ad59ce6d7a33c9d226bc85fe5c7eb3285" title="Return the max depth of a tree of a given size.">getTreeDepth</a>(<span class="keywordtype">size_t</span> size) <span class="keyword">const</span>; 
<a name="l00393"></a>00393                 <span class="keywordtype">size_t</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a5c97e1e4bd093546da19495080b3e5b1" title="Return the storage size of tree of a given size.">getTreeSize</a>(<span class="keywordtype">size_t</span> size) <span class="keyword">const</span>; 
<a name="l00394"></a>00394                 
<a name="l00396"></a>00396                 <span class="keywordtype">void</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a0092a9f0adca25e9cbcea9d41f2f9b7b" title="Recurse to build nodes.">buildNodes</a>(<span class="keyword">const</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#aba95f69bae0502ec53476698a3f63b2e" title="iterator to points during kd-tree construction">BuildPointsIt</a> first, <span class="keyword">const</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#aba95f69bae0502ec53476698a3f63b2e" title="iterator to points during kd-tree construction">BuildPointsIt</a> last, <span class="keyword">const</span> <span class="keywordtype">size_t</span> pos, <span class="keyword">const</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a5873d19f88424dd50a09f87e909af321" title="an Eigen vector of type T, to hold the coordinates of a point">Vector</a> minValues, <span class="keyword">const</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a5873d19f88424dd50a09f87e909af321" title="an Eigen vector of type T, to hold the coordinates of a point">Vector</a> maxValues);
<a name="l00397"></a>00397                 
<a name="l00398"></a>00398         <span class="keyword">public</span>:
<a name="l00400"></a>00400                 <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#aece79cbf5f18fb48c036bf2b6645c353" title="constructor, calls OpenCLSearch&amp;lt;T&amp;gt;(cloud, ...)">KDTreeBalancedPtInNodesStackOpenCL</a>(<span class="keyword">const</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a4012e654f2e415e3194a4f9eb3d0a85d" title="a column-major Eigen matrix in which each column is a point; this matrix has dim rows">Matrix</a>&amp; <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a210a07cc2cff786f1e5408c40dfabbe0" title="the reference to the data-point cloud, which must remain valid during the lifetime of the NearestNeig...">cloud</a>, <span class="keyword">const</span> <a class="code" href="structNabo_1_1KDTreeBalancedPtInNodesStackOpenCL.html#a52187d82d3ea8b8d19c15e961aa5749f" title="an index to a Vector or a Matrix, for refering to data points">Index</a> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#a356a139578fc7b696b1240839182f72a" title="the dimensionality of the data-point cloud">dim</a>, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="structNabo_1_1NearestNeighbourSearch.html#ae24d55eb0a650199e359b1b0966e7a68" title="creation options">creationOptionFlags</a>, <span class="keyword">const</span> cl_device_type <a class="code" href="structNabo_1_1OpenCLSearch.html#ae48e6ffb09727d0ee1e69b2a7ef4b1db" title="the type of device to run CL code on (CL_DEVICE_TYPE_CPU or CL_DEVICE_TYPE_GPU)">deviceType</a>);
<a name="l00401"></a>00401         };
<a name="l00402"></a>00402         
<a name="l00403"></a>00403 <span class="preprocessor">        #endif // HAVE_OPENCL</span>
<a name="l00404"></a>00404 <span class="preprocessor"></span>        
<a name="l00406"></a>00406 }
<a name="l00407"></a>00407 
<a name="l00408"></a>00408 <span class="preprocessor">#endif // __NABO_H</span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Oct 18 2011 16:17:57 for libnabo1 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
